{% extends "base.html" %}

{% block body %}
    <form action = "#", method = "get">
        <label>Enter a number</label>
        <input id = "user_input" type = 'text' name = 'name'/>
        <button id = "enterBTN">Enter</button>
    </form>

    <script>
        
        document.querySelector("#enterBTN").addEventListener("click",make_request)
        
        function make_request() {
            xhttp = new XMLHttpRequest();
            let number = document.querySelector("#user_input").value
            
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    alert(xhttp.responseText);
                }
            };
            xhttp.open("GET", `http://localhost:3000/data?number=${number}`, true);
            xhttp.send();
        }
    </script>
{% endblock %}